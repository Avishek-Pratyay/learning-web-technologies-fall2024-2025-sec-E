<?php
include_once 'database.php';
?>
<html>
<head>
    <title>Dashboard</title>
    <script>
        function searchAuthor() {
            let searchValue = document.getElementById('search').value;
            let xhttp = new XMLHttpRequest();
            xhttp.open('POST', 'search.php', true);
            xhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
            xhttp.send('search=' + searchValue);

            xhttp.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {
                    document.getElementById('result').innerHTML = this.responseText;
                }
            }
        }
    </script>
</head>  
<body >
    <form method="post" action="dashboard.php">
        <fieldset>
            <legend>Dashboard</legend>
            <table>
                <tr>
                    <td>
                        Update Author: 
                    </td>
                    <td>
                        <input type="submit" id="update" name="update" value="Update">
                    </td>
                </tr>
                <tr>
                    <td>Delete Author</td>
                    <td>
                        <input type="text" id="" name="userName" value="">
                        <input type="submit" id="delete" name="delete" value="Delete">
                    </td>
                </tr>
            </table>
            <br>
        </fieldset>
    </form>        
    <fieldset>
        <legend>Search Author</legend>
        <input type="text" id="search" onkeyup="searchAuthor()" placeholder="Search by username">
        <div id="result">
        </div>
    </fieldset>

    
</body>
</html>